i have tried to copy over exactly what travis-hub and travis-worker are doing wrt amqp publishing/consuming.

interestingly, both producer and consumer pick up the connection correctly using this test script.
